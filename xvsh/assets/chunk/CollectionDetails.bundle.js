(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["CollectionDetails"],{

/***/ "./node_modules/css-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./src/components/CollectionDetails/CollectionDetails.scss":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader??ref--12-2!./node_modules/sass-loader/lib/loader.js??ref--12-3!./src/components/CollectionDetails/CollectionDetails.scss ***!
  \**********************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "* {\n  margin: 0;\n  padding: 0;\n  list-style: none; }\n\n.clearfix:after {\n  display: block;\n  clear: both;\n  content: \"\";\n  visibility: hidden;\n  height: 0; }\n\n.clearfix {\n  zoom: 1; }\n\n.dn {\n  display: none; }\n\n.CollectionDetailsContain {\n  height: 100%;\n  background: #EAEAEA; }\n  .CollectionDetailsContain .curDate {\n    width: 100%;\n    height: 3.30667rem;\n    background: #EAEAEA;\n    padding: 0.37333rem 0.42667rem;\n    margin-top: 1.6rem; }\n    .CollectionDetailsContain .curDate .date {\n      border-bottom: 1px solid #C7C7C7;\n      padding-bottom: 0.37333rem;\n      margin-bottom: 0.36rem; }\n      .CollectionDetailsContain .curDate .date span {\n        font-size: 0.48rem;\n        color: #333333;\n        letter-spacing: 0;\n        line-height: 0.48rem; }\n    .CollectionDetailsContain .curDate .curMoney .curMoneyLeft {\n      float: left;\n      width: 5.49333rem;\n      height: 1.46667rem;\n      border-right: 1px solid #999; }\n      .CollectionDetailsContain .curDate .curMoney .curMoneyLeft .receiveMoney {\n        font-size: 0.37333rem;\n        color: #666666;\n        letter-spacing: 0;\n        line-height: 0.37333rem; }\n      .CollectionDetailsContain .curDate .curMoney .curMoneyLeft .receiveNum {\n        font-size: 0.64rem;\n        color: #333333;\n        letter-spacing: 0;\n        line-height: 0.64rem;\n        margin-top: 0.37333rem; }\n    .CollectionDetailsContain .curDate .curMoney .curMoneyRight {\n      float: left; }\n      .CollectionDetailsContain .curDate .curMoney .curMoneyRight .order {\n        font-size: 0.37333rem;\n        color: #666666;\n        letter-spacing: 0;\n        line-height: 0.37333rem;\n        margin-left: 0.42667rem; }\n      .CollectionDetailsContain .curDate .curMoney .curMoneyRight .orderNum {\n        font-size: 0.64rem;\n        color: #333333;\n        letter-spacing: 0;\n        line-height: 0.64rem;\n        margin-top: 0.37333rem;\n        margin-left: 0.42667rem; }\n  .CollectionDetailsContain .curNoDate {\n    box-shadow: inset 0 -1px 0 0 #999999; }\n  .CollectionDetailsContain .loading {\n    text-align: center;\n    padding: 0rem 0.10667rem;\n    color: #999; }\n    .CollectionDetailsContain .loading .loadingBg {\n      background-color: #EAEAEA;\n      padding: 0.4rem 0rem; }\n  .CollectionDetailsContain .CollectMoneyListBox {\n    height: 100%;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch; }\n    .CollectionDetailsContain .CollectMoneyListBox .CollectMoneyList {\n      padding: 0.42667rem 0.2rem;\n      padding-bottom: 0; }\n      .CollectionDetailsContain .CollectMoneyListBox .CollectMoneyList .item {\n        height: 3.09333rem;\n        background-color: #fff;\n        margin-bottom: 0.26667rem;\n        padding: 0.37333rem 0.32rem;\n        border-radius: 0.08rem; }\n        .CollectionDetailsContain .CollectMoneyListBox .CollectMoneyList .item .payMonerNum {\n          font-size: 0.37333rem;\n          color: #333333;\n          letter-spacing: 0;\n          text-align: left;\n          line-height: 0.37333rem;\n          padding-bottom: 0.37333rem;\n          font-weight: bold; }\n        .CollectionDetailsContain .CollectMoneyListBox .CollectMoneyList .item .bottomLine {\n          height: 1px;\n          opacity: 0.3;\n          background: #C7C7C7; }\n        .CollectionDetailsContain .CollectMoneyListBox .CollectMoneyList .item .cardNum {\n          font-size: 0.37333rem;\n          color: #666666;\n          letter-spacing: 0;\n          text-align: left;\n          line-height: 0.37333rem;\n          margin: 0.37333rem 0; }\n        .CollectionDetailsContain .CollectMoneyListBox .CollectMoneyList .item .CollectMoney {\n          font-size: 0.37333rem;\n          color: #666666;\n          letter-spacing: 0;\n          text-align: left;\n          line-height: 0.37333rem; }\n          .CollectionDetailsContain .CollectMoneyListBox .CollectMoneyList .item .CollectMoney .moneyLeft {\n            float: left; }\n          .CollectionDetailsContain .CollectMoneyListBox .CollectMoneyList .item .CollectMoney .timeRight {\n            float: right; }\n          .CollectionDetailsContain .CollectMoneyListBox .CollectMoneyList .item .CollectMoney .money {\n            font-size: 0.48rem;\n            color: #FD3259;\n            letter-spacing: 0;\n            text-align: left;\n            line-height: 0.48rem;\n            font-weight: bold; }\n          .CollectionDetailsContain .CollectMoneyListBox .CollectMoneyList .item .CollectMoney .time {\n            font-size: 0.32rem;\n            color: #999999;\n            letter-spacing: 0;\n            text-align: right;\n            line-height: 0.32rem;\n            margin-left: 2.73333rem; }\n      .CollectionDetailsContain .CollectMoneyListBox .CollectMoneyList .item:last-child {\n        margin-bottom: 0rem !important; }\n  .CollectionDetailsContain .notAvailable {\n    text-align: center;\n    margin-top: 1.06667rem;\n    font-size: 0.37333rem;\n    color: #999999;\n    letter-spacing: 0;\n    text-align: center;\n    line-height: 0.37333rem; }\n\n.dateTabs {\n  width: 100%;\n  height: 1.6rem;\n  line-height: 1.6rem; }\n  .dateTabs li {\n    float: left;\n    width: 25%;\n    height: 100%;\n    background-color: #fff;\n    padding: 0.37333rem 0.24rem; }\n    .dateTabs li div {\n      width: 2.02667rem;\n      height: 0.85333rem;\n      line-height: 0.85333rem;\n      border-radius: 0.08rem;\n      border: 1px solid #4A90E2;\n      color: #4A90E2;\n      text-align: center; }\n  .dateTabs li.active div {\n    background-color: #4A90E2;\n    color: #fff; }\n\n.curDate {\n  width: 100%;\n  height: 3.30667rem;\n  background: #EAEAEA;\n  padding: 0.37333rem 0.42667rem;\n  margin-top: 0.26667rem; }\n  .curDate .date {\n    border-bottom: 1px solid #C7C7C7;\n    padding-bottom: 0.37333rem;\n    margin-bottom: 0.36rem; }\n    .curDate .date span {\n      font-size: 0.48rem;\n      color: #333333;\n      letter-spacing: 0;\n      line-height: 0.48rem; }\n  .curDate .curMoney .curMoneyLeft {\n    float: left;\n    width: 5.49333rem;\n    height: 1.46667rem;\n    border-right: 1px solid #999; }\n    .curDate .curMoney .curMoneyLeft .receiveMoney {\n      font-size: 0.37333rem;\n      color: #666666;\n      letter-spacing: 0;\n      line-height: 0.37333rem; }\n    .curDate .curMoney .curMoneyLeft .receiveNum {\n      font-size: 0.64rem;\n      color: #333333;\n      letter-spacing: 0;\n      line-height: 0.64rem;\n      margin-top: 0.37333rem;\n      font-weight: bold; }\n  .curDate .curMoney .curMoneyRight {\n    float: left; }\n    .curDate .curMoney .curMoneyRight .order {\n      font-size: 0.37333rem;\n      color: #666666;\n      letter-spacing: 0;\n      line-height: 0.37333rem;\n      margin-left: 0.42667rem; }\n    .curDate .curMoney .curMoneyRight .orderNum {\n      font-size: 0.64rem;\n      color: #333333;\n      letter-spacing: 0;\n      line-height: 0.64rem;\n      margin-top: 0.37333rem;\n      margin-left: 0.42667rem;\n      font-weight: bold; }\n\n.curNoDate {\n  box-shadow: inset 0 -1px 0 0 #999999; }\n\n.specialClass {\n  padding-top: 0.8rem !important; }\n", ""]);

// exports
exports.locals = {
	"clearfix": "clearfix",
	"dn": "dn",
	"CollectionDetailsContain": "CollectionDetailsContain",
	"curDate": "curDate",
	"date": "date",
	"curMoney": "curMoney",
	"curMoneyLeft": "curMoneyLeft",
	"receiveMoney": "receiveMoney",
	"receiveNum": "receiveNum",
	"curMoneyRight": "curMoneyRight",
	"order": "order",
	"orderNum": "orderNum",
	"curNoDate": "curNoDate",
	"loading": "loading",
	"loadingBg": "loadingBg",
	"CollectMoneyListBox": "CollectMoneyListBox",
	"CollectMoneyList": "CollectMoneyList",
	"item": "item",
	"payMonerNum": "payMonerNum",
	"bottomLine": "bottomLine",
	"cardNum": "cardNum",
	"CollectMoney": "CollectMoney",
	"moneyLeft": "moneyLeft",
	"timeRight": "timeRight",
	"money": "money",
	"time": "time",
	"notAvailable": "notAvailable",
	"dateTabs": "dateTabs",
	"active": "active",
	"specialClass": "specialClass"
};

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./src/components/CollectionDetails/CollectionDetails.scss":
/*!******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader!./node_modules/css-loader??ref--12-2!./node_modules/sass-loader/lib/loader.js??ref--12-3!./src/components/CollectionDetails/CollectionDetails.scss ***!
  \******************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../../node_modules/css-loader??ref--12-2!../../../node_modules/sass-loader/lib/loader.js??ref--12-3!./CollectionDetails.scss */ "./node_modules/css-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./src/components/CollectionDetails/CollectionDetails.scss");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! ../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("6e4e4ec6", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/components/CollectionDetails/CollectionDetails.js":
/*!***************************************************************!*\
  !*** ./src/components/CollectionDetails/CollectionDetails.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = undefined;

var _stringify = __webpack_require__(/*! babel-runtime/core-js/json/stringify */ "./node_modules/babel-runtime/core-js/json/stringify.js");

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactRouterDom = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");

__webpack_require__(/*! ./CollectionDetails.scss */ "./src/components/CollectionDetails/CollectionDetails.scss");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    var enterModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").enterModule;

    enterModule && enterModule(module);
})(); /**
       * Created by by on 2018/4/13.
       */


var CollectionDetails = function (_React$Component) {
    (0, _inherits3.default)(CollectionDetails, _React$Component);

    function CollectionDetails(props) {
        (0, _classCallCheck3.default)(this, CollectionDetails);

        var _this2 = (0, _possibleConstructorReturn3.default)(this, (CollectionDetails.__proto__ || (0, _getPrototypeOf2.default)(CollectionDetails)).call(this, props));

        _this2.getDateTime = function (num) {
            console.log(num);
            var now = new Date();
            var dateS = new Date(now.getTime() - num * 24 * 3600 * 1000);
            var months = dateS.getMonth() + 1;
            var days = dateS.getDate();
            console.log(days);
            if (months < 10) {
                months = "0" + months;
            }
            if (days < 10) {
                days = "0" + days;
            }
            var startDate = dateS.getFullYear() + '/' + months + '/' + days; //开始日期

            var yearE = void 0,
                monthE = void 0,
                dayE = void 0,
                preDate = void 0;

            if (num != "0") {
                preDate = new Date(now.getTime() - 24 * 60 * 60 * 1000);
                dayE = preDate.getDate();
                yearE = preDate.getFullYear();
                monthE = preDate.getMonth() + 1;
            } else {
                dayE = now.getDate();
                yearE = now.getFullYear();
                monthE = now.getMonth() + 1;
            }

            if (monthE < 10) {
                monthE = "0" + monthE;
            }
            if (dayE < 10) {
                dayE = "0" + dayE;
            }

            var endDate = yearE + "/" + monthE + "/" + dayE; //结束日期
            var lastDate = void 0;
            if (num == "3" || num == "7" || num == "31") {
                lastDate = startDate + " - " + endDate;
                return lastDate;
            } else {
                lastDate = startDate;
                return lastDate;
            }
        };

        _this2.formatDate = function (str) {
            var year = str.substr(0, 4);
            var month = str.substr(4, 2);
            var day = str.substr(6, 2);
            var hour = str.substr(8, 2);
            var min = str.substr(10, 2);
            var s = str.substr(12, 2);
            var date = year + "/" + month + "/" + day;
            var time = hour + ":" + min + ":" + s;

            return date + "  " + time;
        };

        _this2.state = {
            isLoading: false
        };
        _this2.scrollContainerRef = _react2.default.createRef();
        return _this2;
    }

    (0, _createClass3.default)(CollectionDetails, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            var that = this;
            this.scrollContainerRef.current.onscroll = function (e) {
                var _that$props = that.props,
                    hasMore = _that$props.hasMore,
                    getMoreData = _that$props.getMoreData;

                if (e.target.scrollHeight - (e.target.offsetHeight + e.target.scrollTop) < 5) {
                    if (hasMore && !that.state.isLoading) {
                        that.setState({
                            isLoading: true
                        });
                        getMoreData().then(function () {
                            that.setState({
                                isLoading: false
                            });
                        });
                    }
                }
            };
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            this.scrollContainerRef.current.onscroll = ""; //清空滚动
        }

        /**
         * 获取日期时间段
         * @param num
         * @returns {string|*}
         */


        /**
         * 格式化拆分后台响应回来的时间日期
         * @param str
         * @returns {string}
         */

    }, {
        key: "render",
        value: function render() {
            var fixHeaderStyle = {
                position: "fixed",
                left: 0,
                top: 0,
                zIndex: 10,
                background: '#fff'
            };
            var _this = this;

            var _props = this.props,
                todayOrderList = _props.todayOrderList,
                historyOrderList = _props.historyOrderList,
                todayIncome = _props.todayIncome,
                historyIncomeObj = _props.historyIncomeObj,
                tabDayVal = _props.tabDayVal,
                bottomText = _props.bottomText,
                tableCLickHandler = _props.tableCLickHandler;

            //根据 tab 的值确定渲染那个数组,那个对象

            var showOrderListData = tabDayVal == 0 ? todayOrderList : historyOrderList;
            var showIncObjData = tabDayVal == 0 ? todayIncome : historyIncomeObj;

            var renderlist = function renderlist(item, index) {
                return _react2.default.createElement(
                    "div",
                    { key: index, className: "item" },
                    _react2.default.createElement(
                        _reactRouterDom.Link,
                        { to: "/queryResults?goDetail=" + encodeURIComponent((0, _stringify2.default)(item)) },
                        _react2.default.createElement(
                            "p",
                            { className: "payMonerNum" },
                            "\u4ED8\u6B3E\u51ED\u8BC1\u53F7\uFF1A",
                            _react2.default.createElement(
                                "span",
                                null,
                                item.voucherNum
                            )
                        ),
                        _react2.default.createElement("div", { className: "bottomLine" }),
                        _react2.default.createElement(
                            "p",
                            { className: "cardNum" },
                            "\u8D26\u6237\u5361\u53F7\uFF1A",
                            _react2.default.createElement(
                                "span",
                                null,
                                item.accNo
                            )
                        ),
                        _react2.default.createElement(
                            "div",
                            { className: "CollectMoney" },
                            _react2.default.createElement(
                                "p",
                                { className: "moneyLeft" },
                                "\u91D1\u989D\uFF1A",
                                _react2.default.createElement(
                                    "span",
                                    { className: "money" },
                                    item.txnAmt,
                                    "\u5143"
                                )
                            ),
                            _react2.default.createElement(
                                "p",
                                { className: "timeRight" },
                                _react2.default.createElement(
                                    "span",
                                    { className: "time" },
                                    _this.formatDate(item.transTm)
                                )
                            )
                        )
                    )
                );
            };
            return _react2.default.createElement(
                "div",
                { className: "CollectionDetailsContain" },
                _react2.default.createElement(
                    "div",
                    { style: fixHeaderStyle },
                    _react2.default.createElement(
                        "ul",
                        { className: "dateTabs clearfix" },
                        _react2.default.createElement(
                            "li",
                            { className: tabDayVal == "0" ? "active" : "", "data-num": "0", onClick: tableCLickHandler.bind(this, "0") },
                            _react2.default.createElement(
                                "div",
                                null,
                                "\u4ECA\u5929"
                            )
                        ),
                        _react2.default.createElement(
                            "li",
                            { className: tabDayVal == "3" ? "active" : "", "data-num": "3", onClick: tableCLickHandler.bind(this, "3") },
                            _react2.default.createElement(
                                "div",
                                null,
                                "\u6700\u8FD13\u5929"
                            )
                        ),
                        _react2.default.createElement(
                            "li",
                            { className: tabDayVal == "7" ? "active" : "", "data-num": "7", onClick: tableCLickHandler.bind(this, "7") },
                            _react2.default.createElement(
                                "div",
                                null,
                                "\u6700\u8FD11\u5468"
                            )
                        ),
                        _react2.default.createElement(
                            "li",
                            { className: tabDayVal == "31" ? "active" : "", "data-num": "31", onClick: tableCLickHandler.bind(this, "31") },
                            _react2.default.createElement(
                                "div",
                                null,
                                "\u6700\u8FD11\u6708"
                            )
                        )
                    )
                ),
                _react2.default.createElement(
                    "div",
                    { className: "CollectMoneyListBox", ref: this.scrollContainerRef },
                    _react2.default.createElement(
                        "div",
                        { className: "curDate curNoDate" },
                        _react2.default.createElement(
                            "div",
                            { className: "date" },
                            _react2.default.createElement(
                                "span",
                                null,
                                this.getDateTime(tabDayVal)
                            )
                        ),
                        _react2.default.createElement(
                            "div",
                            { className: "curMoney clearfix" },
                            _react2.default.createElement(
                                "div",
                                { className: "curMoneyLeft" },
                                _react2.default.createElement(
                                    "p",
                                    { className: "receiveMoney" },
                                    "\u6536\u6B3E\u91D1\u989D"
                                ),
                                _react2.default.createElement(
                                    "p",
                                    { className: "receiveNum" },
                                    "\xA5",
                                    showIncObjData.dayIncome ? showIncObjData.dayIncome : "0.00"
                                )
                            ),
                            _react2.default.createElement(
                                "div",
                                { className: "curMoneyRight" },
                                _react2.default.createElement(
                                    "p",
                                    { className: "order" },
                                    "\u8BA2\u5355\u91CF"
                                ),
                                _react2.default.createElement(
                                    "p",
                                    { className: "orderNum" },
                                    showIncObjData.orderNum ? showIncObjData.orderNum : "0"
                                )
                            )
                        )
                    ),
                    _react2.default.createElement(
                        "div",
                        { className: "CollectMoneyList" },
                        showOrderListData.map(renderlist)
                    ),
                    _react2.default.createElement(
                        "div",
                        { className: "loading" },
                        _react2.default.createElement(
                            "div",
                            { className: "loadingBg" },
                            bottomText
                        )
                    )
                )
            );
        }
    }, {
        key: "__reactstandin__regenerateByEval",
        // @ts-ignore
        value: function __reactstandin__regenerateByEval(key, code) {
            // @ts-ignore
            this[key] = eval(code);
        }
    }]);
    return CollectionDetails;
}(_react2.default.Component);

exports.default = CollectionDetails;
;

(function () {
    var reactHotLoader = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").default;

    var leaveModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").leaveModule;

    if (!reactHotLoader) {
        return;
    }

    reactHotLoader.register(CollectionDetails, "CollectionDetails", "C:/Users/Administrator/Desktop/work_xvsh/xvsh-v2/src/components/CollectionDetails/CollectionDetails.js");
    leaveModule(module);
})();

;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./src/components/CollectionDetails/CollectionDetails.scss":
/*!*****************************************************************!*\
  !*** ./src/components/CollectionDetails/CollectionDetails.scss ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../node_modules/vue-style-loader!../../../node_modules/css-loader??ref--12-2!../../../node_modules/sass-loader/lib/loader.js??ref--12-3!./CollectionDetails.scss */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./src/components/CollectionDetails/CollectionDetails.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./src/components/CollectionDetails/CollectionDetailsActions.js":
/*!**********************************************************************!*\
  !*** ./src/components/CollectionDetails/CollectionDetailsActions.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _promise = __webpack_require__(/*! babel-runtime/core-js/promise */ "./node_modules/babel-runtime/core-js/promise.js");

var _promise2 = _interopRequireDefault(_promise);

exports.collectDetailOrder = collectDetailOrder;

var _requestAPI = __webpack_require__(/*! ../../assets/util/requestAPI */ "./src/assets/util/requestAPI.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    var enterModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").enterModule;

    enterModule && enterModule(module);
})();

function collectDetailOrder(day) {
    var latedate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

    /**
     * 是否是滚动加载 滚动的话就要把数据的响应回来的数据的最后一个时间传给后台
     */
    var param = void 0;
    if (!!latedate) {
        param = { transTm: latedate, intervalDay: day };
    } else {
        param = { intervalDay: day };
    }

    /**
     * 判断接口是今日收款还是历史收款
     */
    if (day != '0') {
        return (0, _requestAPI.getHistoryTrans)(param).then(function (res) {
            (0, _requestAPI.getHistoryIncome)({ intervalDay: day });
            var newList = res.data.transInfo;
            return _promise2.default.resolve(newList);
        });
    } else {
        return (0, _requestAPI.getTodayTrans)(param).then(function (res) {
            return (0, _requestAPI.getTodayIncome)(function () {
                //todo  更新后要处理的业务
                console.log('getTodayIncom:我是真正的update函数');
            }).then(function (response) {
                function aim() {
                    if (!!response.fuc) {
                        response.fuc.endOfFunc();
                        console.log('getTodayIncom:success函数执行完毕');
                    }
                    var newList = res.data.transInfo;
                    return newList;
                }
                return _promise2.default.resolve(aim);
            });
        });
    }
}
;

(function () {
    var reactHotLoader = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").default;

    var leaveModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").leaveModule;

    if (!reactHotLoader) {
        return;
    }

    reactHotLoader.register(collectDetailOrder, 'collectDetailOrder', 'C:/Users/Administrator/Desktop/work_xvsh/xvsh-v2/src/components/CollectionDetails/CollectionDetailsActions.js');
    leaveModule(module);
})();

;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./src/components/CollectionDetails/CollectionDetailsContainer.js":
/*!************************************************************************!*\
  !*** ./src/components/CollectionDetails/CollectionDetailsContainer.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends2 = __webpack_require__(/*! babel-runtime/helpers/extends */ "./node_modules/babel-runtime/helpers/extends.js");

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");

var _CollectionDetailsActions = __webpack_require__(/*! ./CollectionDetailsActions */ "./src/components/CollectionDetails/CollectionDetailsActions.js");

var _request = __webpack_require__(/*! ../../assets/util/request */ "./src/assets/util/request.js");

var _CollectionDetails = __webpack_require__(/*! ./CollectionDetails */ "./src/components/CollectionDetails/CollectionDetails.js");

var _CollectionDetails2 = _interopRequireDefault(_CollectionDetails);

var _store = __webpack_require__(/*! ../../store/store */ "./src/store/store.js");

var _store2 = _interopRequireDefault(_store);

var _action = __webpack_require__(/*! ../../store/action */ "./src/store/action.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    var enterModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").enterModule;

    enterModule && enterModule(module);
})();

var CollectionDetailsContainers = function (_Component) {
    (0, _inherits3.default)(CollectionDetailsContainers, _Component);

    function CollectionDetailsContainers(props) {
        (0, _classCallCheck3.default)(this, CollectionDetailsContainers);

        var _this = (0, _possibleConstructorReturn3.default)(this, (CollectionDetailsContainers.__proto__ || (0, _getPrototypeOf2.default)(CollectionDetailsContainers)).call(this, props));

        _this.tableCLickHandler = function (val) {
            if (val != _this.state.tabDayVal) {
                if (val == "0") {
                    _store2.default.dispatch((0, _action.UPDATE_STORE_STATE)({
                        todayOrderList: []
                    }));
                } else {
                    _store2.default.dispatch((0, _action.UPDATE_STORE_STATE)({
                        historyOrderList: []
                    }));
                }
                _this.setState({
                    tabDayVal: val,
                    lastDate: null,
                    bottomText: '加载中...',
                    hasMore: true
                }, function () {
                    _this.getMoreData();
                });
            }
        };

        _this.getMoreData = function () {
            var _this$state = _this.state,
                tabDayVal = _this$state.tabDayVal,
                lastDate = _this$state.lastDate;

            return (0, _CollectionDetailsActions.collectDetailOrder)(tabDayVal, lastDate).then(function (fuc) {
                console.log(fuc);
                var list = [];
                if (typeof fuc === 'function') {
                    list = fuc();
                }
                console.log(list);
                if (list.length >= 10) {
                    lastDate = list[list.length - 1].transTm;
                    _this.setState({
                        hasMore: true,
                        lastDate: lastDate
                    });
                } else {
                    _this.setState({
                        hasMore: false,
                        bottomText: '暂无更多数据~~'
                    });
                }
            });
        };

        _this.state = {
            tabDayVal: "0",
            lastDate: null,
            bottomText: '加载中...',
            hasMore: true
        };
        return _this;
    }

    (0, _createClass3.default)(CollectionDetailsContainers, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            (0, _request.beforeEnterRouter)("收款明细");
            this.getMoreData();
        }

        /**
         * tab切换选择不同的历史时间
         * @param val
         */


        /**
         * 触发滚动执行此函数
         */

    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(_CollectionDetails2.default, (0, _extends3.default)({}, this.props, this.state, { tableCLickHandler: this.tableCLickHandler, getMoreData: this.getMoreData }));
        }
    }, {
        key: '__reactstandin__regenerateByEval',
        // @ts-ignore
        value: function __reactstandin__regenerateByEval(key, code) {
            // @ts-ignore
            this[key] = eval(code);
        }
    }]);
    return CollectionDetailsContainers;
}(_react.Component);

var mapstateToProps = function mapstateToProps(state) {
    return {
        todayIncome: state.getIn(["todayIncome"]).toJS(),
        historyIncomeObj: state.getIn(["historyIncomeObj"]).toJS(),
        todayOrderList: state.getIn(["todayOrderList"]).toJS(),
        historyOrderList: state.getIn(["historyOrderList"]).toJS()
    };
};

var _default = (0, _reactRedux.connect)(mapstateToProps)(CollectionDetailsContainers);

exports.default = _default;
;

(function () {
    var reactHotLoader = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").default;

    var leaveModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").leaveModule;

    if (!reactHotLoader) {
        return;
    }

    reactHotLoader.register(CollectionDetailsContainers, 'CollectionDetailsContainers', 'C:/Users/Administrator/Desktop/work_xvsh/xvsh-v2/src/components/CollectionDetails/CollectionDetailsContainer.js');
    reactHotLoader.register(mapstateToProps, 'mapstateToProps', 'C:/Users/Administrator/Desktop/work_xvsh/xvsh-v2/src/components/CollectionDetails/CollectionDetailsContainer.js');
    reactHotLoader.register(_default, 'default', 'C:/Users/Administrator/Desktop/work_xvsh/xvsh-v2/src/components/CollectionDetails/CollectionDetailsContainer.js');
    leaveModule(module);
})();

;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ })

}]);