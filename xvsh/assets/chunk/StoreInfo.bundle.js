(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["StoreInfo"],{

/***/ "./node_modules/css-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./src/components/StoreInfo/StoreInfo.scss":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader??ref--12-2!./node_modules/sass-loader/lib/loader.js??ref--12-3!./src/components/StoreInfo/StoreInfo.scss ***!
  \******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var escape = __webpack_require__(/*! ../../../node_modules/css-loader/lib/url/escape.js */ "./node_modules/css-loader/lib/url/escape.js");
exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "#SI {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background-color: #EFEFF4;\n  overflow: hidden; }\n  #SI .container {\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    padding: 0.42667rem 0.42667rem 0 0.42667rem; }\n    #SI .container > div {\n      border-radius: 0.08rem;\n      overflow: hidden; }\n    #SI .container .upgrade {\n      width: 100%; }\n      #SI .container .upgrade > div {\n        border-radius: 0.08rem;\n        overflow: hidden; }\n      #SI .container .upgrade.hide {\n        display: none; }\n    #SI .container .am-list-item.am-input-item {\n      padding-left: 0.42667rem;\n      font-size: 0; }\n      #SI .container .am-list-item.am-input-item .am-input-label.am-input-label-5 {\n        font-size: 0.42667rem;\n        line-height: 1.33333rem;\n        margin-right: 0; }\n      #SI .container .am-list-item.am-input-item .am-input-control input {\n        text-indent: 0.08rem;\n        font-size: 0.42667rem;\n        color: #666666; }\n        #SI .container .am-list-item.am-input-item .am-input-control input::-webkit-input-placeholder {\n          color: #666666; }\n    #SI .container .tip {\n      background-color: transparent;\n      font-size: 0;\n      padding-left: 0;\n      padding-top: 0.26667rem;\n      padding-bottom: 0.4rem; }\n      #SI .container .tip .content {\n        display: flex;\n        align-items: center; }\n        #SI .container .tip .content .icon {\n          margin-top: -0.06667rem;\n          width: 0.4rem;\n          height: 0.4rem;\n          background-image: url(" + escape(__webpack_require__(/*! ../../assets/imgs/Tips.png */ "./src/assets/imgs/Tips.png")) + ");\n          background-repeat: no-repeat;\n          background-size: 100%;\n          vertical-align: top; }\n        #SI .container .tip .content span {\n          margin-left: 0.06667rem;\n          font-size: 0.37333rem;\n          color: #666666; }\n    #SI .container .kind, #SI .container .location {\n      overflow: hidden;\n      margin-bottom: 0.45333rem; }\n      #SI .container .kind .am-list-item .am-list-line, #SI .container .location .am-list-item .am-list-line {\n        position: relative;\n        display: flex; }\n        #SI .container .kind .am-list-item .am-list-line .am-list-extra, #SI .container .location .am-list-item .am-list-line .am-list-extra {\n          flex: 0 0 auto;\n          margin-left: 0.26667rem;\n          color: #666666; }\n        #SI .container .kind .am-list-item .am-list-line .am-list-content, #SI .container .location .am-list-item .am-list-line .am-list-content {\n          flex: 0 0 auto;\n          font-size: 0.42667rem; }\n        #SI .container .kind .am-list-item .am-list-line .am-list-arrow, #SI .container .location .am-list-item .am-list-line .am-list-arrow {\n          position: absolute;\n          top: 50%;\n          right: 0.42667rem;\n          transform: translate3d(0, -50%, 0); }\n  #SI .add {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    box-sizing: border-box;\n    padding: 0.42667rem 0.42667rem; }\n    #SI .add .button {\n      width: 100%;\n      color: #ffffff;\n      background-color: #ccc;\n      text-align: center;\n      border-radius: 0.08rem;\n      font-size: 0.48rem;\n      line-height: 1.06667rem; }\n      #SI .add .button.edit {\n        background-color: #40A60D; }\n", ""]);

// exports
exports.locals = {
	"SI": "SI",
	"container": "container",
	"upgrade": "upgrade",
	"hide": "hide",
	"am-input-label": "am-input-label",
	"am-input-label-5": "am-input-label-5",
	"am-input-control": "am-input-control",
	"tip": "tip",
	"content": "content",
	"icon": "icon",
	"kind": "kind",
	"location": "location",
	"am-list-item": "am-list-item",
	"am-list-line": "am-list-line",
	"am-list-extra": "am-list-extra",
	"am-list-content": "am-list-content",
	"am-list-arrow": "am-list-arrow",
	"add": "add",
	"button": "button",
	"edit": "edit"
};

/***/ }),

/***/ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./src/components/StoreInfo/StoreInfo.scss":
/*!**************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-style-loader!./node_modules/css-loader??ref--12-2!./node_modules/sass-loader/lib/loader.js??ref--12-3!./src/components/StoreInfo/StoreInfo.scss ***!
  \**************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../../node_modules/css-loader??ref--12-2!../../../node_modules/sass-loader/lib/loader.js??ref--12-3!./StoreInfo.scss */ "./node_modules/css-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./src/components/StoreInfo/StoreInfo.scss");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(/*! ../../../node_modules/vue-style-loader/lib/addStylesClient.js */ "./node_modules/vue-style-loader/lib/addStylesClient.js").default
var update = add("c727be08", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/components/StoreInfo/StoreInfo.js":
/*!***********************************************!*\
  !*** ./src/components/StoreInfo/StoreInfo.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

__webpack_require__(/*! ./StoreInfo.scss */ "./src/components/StoreInfo/StoreInfo.scss");

var _inputItem = __webpack_require__(/*! antd-mobile/lib/input-item */ "./node_modules/antd-mobile/lib/input-item/index.js");

var _inputItem2 = _interopRequireDefault(_inputItem);

var _list = __webpack_require__(/*! antd-mobile/lib/list */ "./node_modules/antd-mobile/lib/list/index.js");

var _list2 = _interopRequireDefault(_list);

var _picker = __webpack_require__(/*! antd-mobile/lib/picker */ "./node_modules/antd-mobile/lib/picker/index.js");

var _picker2 = _interopRequireDefault(_picker);

var _request = __webpack_require__(/*! ../../assets/util/request */ "./src/assets/util/request.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    var enterModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").enterModule;

    enterModule && enterModule(module);
})();

var StoreInfo = function (_Component) {
    (0, _inherits3.default)(StoreInfo, _Component);

    function StoreInfo() {
        (0, _classCallCheck3.default)(this, StoreInfo);
        return (0, _possibleConstructorReturn3.default)(this, (StoreInfo.__proto__ || (0, _getPrototypeOf2.default)(StoreInfo)).apply(this, arguments));
    }

    (0, _createClass3.default)(StoreInfo, [{
        key: 'errorClick',
        value: function errorClick(msg) {
            (0, _request.toast)(msg);
        }
    }, {
        key: 'render',
        value: function render() {
            var _this2 = this;

            var _props = this.props,
                NAME_LEN_LIMIT = _props.NAME_LEN_LIMIT,
                ADDR_LEN_LIMIT = _props.ADDR_LEN_LIMIT,
                changeStateDetail = _props.changeStateDetail,
                clickToUpdateMchntDetail = _props.clickToUpdateMchntDetail,
                areaArrSelected = _props.areaArrSelected,
                typeArrSelected = _props.typeArrSelected,
                mchntDetail = _props.mchntDetail,
                mchntAndAreaInf = _props.mchntAndAreaInf;
            var storeNm = mchntDetail.storeNm,
                upgradeSt = mchntDetail.upgradeSt,
                addr = mchntDetail.addr;
            var merchantTpArr = mchntAndAreaInf.merchantTpArr,
                areaArr = mchntAndAreaInf.areaArr;


            var nameErrorState = false;
            var nameErrorMsg = '';
            if (storeNm.length > NAME_LEN_LIMIT) {
                nameErrorState = true;
                nameErrorMsg = '店铺名不能超过' + NAME_LEN_LIMIT + '字';
            }

            var addrErrorState = false;
            var addrErrorMsg = '';
            if (addr.length > ADDR_LEN_LIMIT) {
                addrErrorState = true;
                addrErrorMsg = '地址不能超过' + ADDR_LEN_LIMIT + '字';
            }
            storeNm = (0, _request.entitiesToUtf16)(storeNm);

            return _react2.default.createElement(
                'div',
                { id: 'SI' },
                _react2.default.createElement(
                    'div',
                    { className: 'container', ref: 'con' },
                    _react2.default.createElement(
                        'div',
                        { className: 'inputWap' },
                        _react2.default.createElement(
                            _inputItem2.default,
                            { type: 'text',
                                clear: true,
                                error: nameErrorState,
                                onErrorClick: function onErrorClick() {
                                    _this2.errorClick(nameErrorMsg);
                                },
                                value: storeNm,
                                onChange: function onChange(val) {
                                    var realVal = (0, _request.utf16ToEntities)(val);
                                    changeStateDetail({ _key: 'storeNm', _val: realVal
                                    });
                                },
                                maxLength: NAME_LEN_LIMIT + 1
                            },
                            '\u5E97\u94FA\u540D\u79F0'
                        )
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'tip' },
                        _react2.default.createElement(
                            'div',
                            { className: 'content' },
                            _react2.default.createElement(
                                'i',
                                { className: 'icon' },
                                'icon'
                            ),
                            _react2.default.createElement(
                                'span',
                                null,
                                ' \u8BE5\u540D\u79F0\u5C06\u5C55\u793A\u5728\u5BA2\u6237\u4ED8\u6B3E\u7684\u9875\u9762 '
                            )
                        )
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: upgradeSt == 0 ? 'upgrade hide' : ' upgrade ' },
                        _react2.default.createElement(
                            'div',
                            { className: 'kind' },
                            _react2.default.createElement(
                                _picker2.default,
                                {
                                    extra: '\u8BF7\u9009\u62E9\u5546\u6237\u7C7B\u578B',
                                    data: merchantTpArr,
                                    cols: '2',
                                    value: typeArrSelected,
                                    onChange: null,
                                    onOk: function onOk(val) {
                                        changeStateDetail({ _key: 'typeArrSelected', _val: val });
                                    }
                                },
                                _react2.default.createElement(
                                    _list2.default.Item,
                                    { arrow: 'horizontal' },
                                    '\u5E97\u94FA\u7C7B\u578B'
                                )
                            )
                        ),
                        _react2.default.createElement(
                            'div',
                            { className: 'location' },
                            _react2.default.createElement(
                                _picker2.default
                                // title="选择地区"
                                ,
                                { extra: '\u8BF7\u9009\u62E9\u6240\u5728\u5730\u533A',
                                    data: areaArr,
                                    cols: '3',
                                    value: areaArrSelected,
                                    onChange: null,
                                    onOk: function onOk(val) {
                                        changeStateDetail({ _key: 'areaArrSelected', _val: val });
                                    }
                                },
                                _react2.default.createElement(
                                    _list2.default.Item,
                                    { arrow: 'horizontal' },
                                    '\u6240\u5728\u5730\u533A'
                                )
                            )
                        ),
                        _react2.default.createElement(
                            'div',
                            { className: 'inputWap' },
                            _react2.default.createElement(
                                _inputItem2.default,
                                { type: 'text', clear: true,
                                    error: addrErrorState,
                                    value: addr,
                                    onChange: function onChange(val) {
                                        changeStateDetail({ _key: 'addr', _val: val });
                                    },
                                    onErrorClick: function onErrorClick() {
                                        _this2.errorClick(addrErrorMsg);
                                    },
                                    maxLength: ADDR_LEN_LIMIT + 1
                                },
                                '\u8BE6\u7EC6\u5730\u5740'
                            )
                        )
                    )
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'add', ref: 'btn' },
                    _react2.default.createElement(
                        'button',
                        {
                            className: 'button edit',
                            onClick: function onClick() {
                                clickToUpdateMchntDetail();
                            } },
                        '\u4FDD\u5B58'
                    )
                )
            );
        }
    }, {
        key: '__reactstandin__regenerateByEval',
        // @ts-ignore
        value: function __reactstandin__regenerateByEval(key, code) {
            // @ts-ignore
            this[key] = eval(code);
        }
    }]);
    return StoreInfo;
}(_react.Component);

var _default = StoreInfo;
exports.default = _default;
;

(function () {
    var reactHotLoader = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").default;

    var leaveModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").leaveModule;

    if (!reactHotLoader) {
        return;
    }

    reactHotLoader.register(StoreInfo, 'StoreInfo', 'C:/Users/Administrator/Desktop/work_xvsh/xvsh-v2/src/components/StoreInfo/StoreInfo.js');
    reactHotLoader.register(_default, 'default', 'C:/Users/Administrator/Desktop/work_xvsh/xvsh-v2/src/components/StoreInfo/StoreInfo.js');
    leaveModule(module);
})();

;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./src/components/StoreInfo/StoreInfo.scss":
/*!*************************************************!*\
  !*** ./src/components/StoreInfo/StoreInfo.scss ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../node_modules/vue-style-loader!../../../node_modules/css-loader??ref--12-2!../../../node_modules/sass-loader/lib/loader.js??ref--12-3!./StoreInfo.scss */ "./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js?!./node_modules/sass-loader/lib/loader.js?!./src/components/StoreInfo/StoreInfo.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./src/components/StoreInfo/StoreInfoContainer.js":
/*!********************************************************!*\
  !*** ./src/components/StoreInfo/StoreInfoContainer.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends2 = __webpack_require__(/*! babel-runtime/helpers/extends */ "./node_modules/babel-runtime/helpers/extends.js");

var _extends3 = _interopRequireDefault(_extends2);

var _assign = __webpack_require__(/*! babel-runtime/core-js/object/assign */ "./node_modules/babel-runtime/core-js/object/assign.js");

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ "./node_modules/babel-runtime/core-js/object/get-prototype-of.js");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ "./node_modules/babel-runtime/helpers/possibleConstructorReturn.js");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ "./node_modules/babel-runtime/helpers/inherits.js");

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactRedux = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");

var _StoreInfo = __webpack_require__(/*! ./StoreInfo */ "./src/components/StoreInfo/StoreInfo.js");

var _StoreInfo2 = _interopRequireDefault(_StoreInfo);

var _request = __webpack_require__(/*! ../../assets/util/request */ "./src/assets/util/request.js");

var _requestAPI = __webpack_require__(/*! ../../assets/util/requestAPI */ "./src/assets/util/requestAPI.js");

var _StoreManagementAtions = __webpack_require__(/*! ../StoreManagement/StoreManagementAtions */ "./src/components/StoreManagement/StoreManagementAtions.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    var enterModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").enterModule;

    enterModule && enterModule(module);
})();

var StoreInfoContainers = function (_Component) {
    (0, _inherits3.default)(StoreInfoContainers, _Component);

    function StoreInfoContainers(props) {
        (0, _classCallCheck3.default)(this, StoreInfoContainers);

        var _this = (0, _possibleConstructorReturn3.default)(this, (StoreInfoContainers.__proto__ || (0, _getPrototypeOf2.default)(StoreInfoContainers)).call(this, props));

        _this.clickToUpdateMchntDetail = function () {
            var _this$state = _this.state,
                areaArrSelected = _this$state.areaArrSelected,
                typeArrSelected = _this$state.typeArrSelected,
                mchntDetail = _this$state.mchntDetail,
                NAME_LEN_LIMIT = _this$state.NAME_LEN_LIMIT,
                ADDR_LEN_LIMIT = _this$state.ADDR_LEN_LIMIT,
                UPGRADE_STATE_ACTIVE = _this$state.UPGRADE_STATE_ACTIVE;
            var storeNm = mchntDetail.storeNm,
                addr = mchntDetail.addr,
                upgradeSt = mchntDetail.upgradeSt;
            //去除空格

            storeNm = storeNm.trim();
            var paramToSend = {
                storeNm: storeNm
            };
            if (upgradeSt != UPGRADE_STATE_ACTIVE) {
                // 未升级
                //非空验证
                if (storeNm.length == 0) {
                    (0, _request.toast)('店铺名称不能为空');
                    return;
                }
                // 字数限制验证
                if (storeNm.length > NAME_LEN_LIMIT) {
                    (0, _request.toast)('\u5E97\u94FA\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC7' + NAME_LEN_LIMIT + '\u4E2A\u5B57');
                    return;
                }
                (0, _requestAPI.mchntOper)(paramToSend).then(function () {
                    // 更新redux的 mchntDetail
                    (0, _StoreManagementAtions.refreshMchntDetail)(paramToSend);
                    _this.props.history.go(-1);
                });

                return;
            }

            //去除空格
            addr = addr.trim();
            // 非空验证
            if (storeNm.length == 0 || addr.length == 0 || areaArrSelected.length == 0 || typeArrSelected.length == 0) {
                (0, _request.toast)('所有内容为必填,不能为空');
                return;
            }
            // 字数限制验证
            if (storeNm.length > NAME_LEN_LIMIT) {
                (0, _request.toast)('\u5E97\u94FA\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC7' + NAME_LEN_LIMIT + '\u4E2A\u5B57');
                return;
            }
            if (addr.length > ADDR_LEN_LIMIT) {
                (0, _request.toast)('\u5730\u5740\u4E0D\u80FD\u8D85\u8FC7' + ADDR_LEN_LIMIT + '\u4E2A\u5B57');
                return;
            }

            var TYPE_STR_LEN_LIMIT = 4; //完整的店铺类型字符串长度限制
            var TYPE_STR_POS = 1; //完整的店铺类型字符串在areaArrSelected数组中的位置
            var CHAR_TO_ADD = '0'; //用来补全完整的店铺类型字符串的补位字符
            var PROV_ID_POS = 0; // 省市区arr中，省级id所在数组位置
            var CITY_ID_POS = 1; // 省市区arr中，市级id所在数组位置
            var AREA_ID_POS = 2; // 省市区arr中，区域id所在数组位置

            var fullStoreTypeStr = typeArrSelected[TYPE_STR_POS]; //从areaArrSelected数组中获取完整店铺类型字符串
            paramToSend.storeTp = fullStoreTypeStr.length >= TYPE_STR_LEN_LIMIT ? fullStoreTypeStr + '' : CHAR_TO_ADD + fullStoreTypeStr;
            paramToSend.provCd = areaArrSelected[PROV_ID_POS];
            paramToSend.cityCd = areaArrSelected[CITY_ID_POS];
            paramToSend.coutyCd = areaArrSelected[AREA_ID_POS];
            paramToSend.area = areaArrSelected.join('|');
            paramToSend.addr = addr;

            (0, _requestAPI.mchntOper)(paramToSend).then(function () {
                // 更新redux的 mchntDetail
                (0, _StoreManagementAtions.refreshMchntDetail)(paramToSend);
                _this.props.history.go(-1);
            });
        };

        _this.changeStateDetail = function () {
            var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
                _key: '', //要更新的key
                _val: '' //要更新的val
            };
            var _key = obj._key,
                _val = obj._val;

            var objToSave = {};
            objToSave[_key] = _val;
            if (_key == 'areaArrSelected' || _key == 'typeArrSelected') {
                _this.setState(objToSave);
            } else {
                _this.setState({
                    mchntDetail: (0, _assign2.default)(_this.state.mchntDetail, objToSave)
                });
            }
        };

        _this.state = {
            mchntDetail: props.mchntDetail,
            NAME_LEN_LIMIT: 20, //店铺名称字数限制
            ADDR_LEN_LIMIT: 60, //详细地址的字数限制
            areaArrSelected: [], //地区id数组
            typeArrSelected: [], //店铺类型数组
            UPGRADE_STATE_ACTIVE: '1' //店铺升级标识符
        };
        return _this;
    }

    (0, _createClass3.default)(StoreInfoContainers, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            (0, _request.beforeEnterRouter)('店铺信息', '');
            var _state = this.state,
                UPGRADE_STATE_ACTIVE = _state.UPGRADE_STATE_ACTIVE,
                mchntDetail = _state.mchntDetail,
                areaArrSelected = _state.areaArrSelected,
                typeArrSelected = _state.typeArrSelected;
            var upgradeSt = mchntDetail.upgradeSt,
                storeTp = mchntDetail.storeTp,
                area = mchntDetail.area;
            // 未升级的话，直接返回

            if (upgradeSt != UPGRADE_STATE_ACTIVE) return;

            // 如果没有地区与店铺类型的数组信息，则发送请求获取数据
            if (!this.props.mchntAndAreaInf.areaArr || this.props.mchntAndAreaInf.areaArr.length == 0) {
                (0, _requestAPI.getMchntAndAreaInf)();
            }
            // 店铺已升级，根据获取的店铺香型进行处理，获取店铺类型以及省市区数组信息
            var TYPE_STR_LEN_LIMIT = 4; //完整的店铺类型字符串长度限制
            var MIN_SUB_END_POS = 1; //将店铺类型字符串分割为店铺类型数组时，最小的分割结束位置
            var MAX_SUB_END_POS = 2; //将店铺类型字符串分割为店铺类型数组时，最大的分割结束位置

            areaArrSelected = area.split('|'); //分割省市区ID字符串，获取省市区ID数组
            // 分割店铺类型字符串，获取店铺类型数组
            typeArrSelected = parseInt(storeTp) + '';
            if (typeArrSelected.length >= TYPE_STR_LEN_LIMIT) {
                typeArrSelected = [typeArrSelected.substr(0, MAX_SUB_END_POS) + '', typeArrSelected];
            } else {
                typeArrSelected = [typeArrSelected.substr(0, MIN_SUB_END_POS) + '', typeArrSelected];
            }
            this.setState({
                areaArrSelected: areaArrSelected,
                typeArrSelected: typeArrSelected
            });
        }
        /**
         * 点击保存，发送请求，更新店铺信息
         */

        /**
         * 更改当前页面的state
         * @param {*} obj 详细信息
         */

    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(_StoreInfo2.default, (0, _extends3.default)({}, this.props, this.state, { clickToUpdateMchntDetail: this.clickToUpdateMchntDetail, changeStateDetail: this.changeStateDetail }));
        }
    }, {
        key: '__reactstandin__regenerateByEval',
        // @ts-ignore
        value: function __reactstandin__regenerateByEval(key, code) {
            // @ts-ignore
            this[key] = eval(code);
        }
    }]);
    return StoreInfoContainers;
}(_react.Component);

var mapstateToProps = function mapstateToProps(state) {
    return {
        mchntDetail: state.getIn(["mchntDetail"]).toJS(),
        mchntAndAreaInf: state.getIn(["mchntAndAreaInf"]).toJS()
    };
};

var _default = (0, _reactRedux.connect)(mapstateToProps)(StoreInfoContainers);

exports.default = _default;
;

(function () {
    var reactHotLoader = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").default;

    var leaveModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").leaveModule;

    if (!reactHotLoader) {
        return;
    }

    reactHotLoader.register(StoreInfoContainers, 'StoreInfoContainers', 'C:/Users/Administrator/Desktop/work_xvsh/xvsh-v2/src/components/StoreInfo/StoreInfoContainer.js');
    reactHotLoader.register(mapstateToProps, 'mapstateToProps', 'C:/Users/Administrator/Desktop/work_xvsh/xvsh-v2/src/components/StoreInfo/StoreInfoContainer.js');
    reactHotLoader.register(_default, 'default', 'C:/Users/Administrator/Desktop/work_xvsh/xvsh-v2/src/components/StoreInfo/StoreInfoContainer.js');
    leaveModule(module);
})();

;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./src/components/StoreManagement/StoreManagementAtions.js":
/*!*****************************************************************!*\
  !*** ./src/components/StoreManagement/StoreManagementAtions.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.refreshMchntDetail = refreshMchntDetail;

var _store = __webpack_require__(/*! ../../store/store */ "./src/store/store.js");

var _store2 = _interopRequireDefault(_store);

var _action = __webpack_require__(/*! ../../store/action */ "./src/store/action.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
  var enterModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").enterModule;

  enterModule && enterModule(module);
})();

/**
 *  更改redux中的店铺详情
 * @param {*}  data 需要更新的数据
 */
function refreshMchntDetail(data) {
  _store2.default.dispatch((0, _action.UPDATE_STORE_STATE)({ mchntDetail: data }));
}
;

(function () {
  var reactHotLoader = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").default;

  var leaveModule = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js").leaveModule;

  if (!reactHotLoader) {
    return;
  }

  reactHotLoader.register(refreshMchntDetail, 'refreshMchntDetail', 'C:/Users/Administrator/Desktop/work_xvsh/xvsh-v2/src/components/StoreManagement/StoreManagementAtions.js');
  leaveModule(module);
})();

;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ })

}]);